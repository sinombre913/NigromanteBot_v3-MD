import gplay from "google-play-scraper";

let handler = async (m, { conn, text }) => {
  if (!text) throw "*[тЭЧ] ЁЭЩ╕ЁЭЩ╜ЁЭЩ╢ЁЭЪБЁЭЩ┤ЁЭЩ┤ЁЭЪВЁЭЩ┤ ЁЭЩ┤ЁЭЩ╗ ЁЭЩ╜ЁЭЩ╛ЁЭЩ╝ЁЭЩ▒ЁЭЪБЁЭЩ┤ ЁЭЩ│ЁЭЩ┤ ЁЭЩ╗ЁЭЩ░ ЁЭЩ░ЁЭЩ┐ЁЭЩ║ ЁЭЪАЁЭЪДЁЭЩ┤ ЁЭЪАЁЭЪДЁЭЩ╕ЁЭЩ┤ЁЭЪБЁЭЩ░ ЁЭЩ▒ЁЭЪДЁЭЪВЁЭЩ▓ЁЭЩ░ЁЭЪБ*";
  let res = await gplay.search({ term: text });
  if (!res.length) throw `*[тЭЧ] ЁЭЩ╕ЁЭЩ╜ЁЭЩ╢ЁЭЪБЁЭЩ┤ЁЭЩ┤ЁЭЪВЁЭЩ┤ ЁЭЩ┤ЁЭЩ╗ ЁЭЩ╜ЁЭЩ╛ЁЭЩ╝ЁЭЩ▒ЁЭЪБЁЭЩ┤ ЁЭЩ│ЁЭЩ┤ ЁЭЩ╗ЁЭЩ░ ЁЭЩ░ЁЭЩ┐ЁЭЩ║ ЁЭЪАЁЭЪДЁЭЩ┤ ЁЭЪАЁЭЪДЁЭЩ╕ЁЭЩ┤ЁЭЪБЁЭЩ░ ЁЭЩ▒ЁЭЪДЁЭЪВЁЭЩ▓ЁЭЩ░ЁЭЪБ*`;
  let opt = {
    contextInfo: {
      externalAdReply: {
        title: res[0].title,
        body: res[0].summary,
        thumbnail: (await conn.getFile(res[0].icon)).data,
        sourceUrl: res[0].url,
      },
    },
  };
  await console.log(res);
  res = res.map(
    (v) =>
      `тХн█лргнргнргнргнргнргн┘ЬтФД█л╠╕ргнргнргнргнргн┘ЬтШкя╕Оя╕Оя╕О╠╕тГШргкргкргк█м╠╕ргн┘ЬтЧМтГШ╓ЯсНЭ╓п█к█л█ля╕О█л█мЁРЗ╜тГкуАКтЦауАЛтГШ╓ЯсНЭ╓п█к█л█л█л█мтГктЧМтГШргкргкргк█мргн┘ЬтШкя╕Оя╕Оя╕Оя╕О╠╕тФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтФД█л╠╕ргнтФД█л╠╕ргнргнргнргнргн┘ЬтФД█л╠╕ргнтФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтХо
тФКтФГ тЮв *ЁЯФН Resultado:* ${v.title}
тФКтФГ тЮв *тЬНя╕П Desarrollador:* ${v.developer}
тФКтФГ тЮв *ЁЯТ╕ Precio:* ${v.priceText}
тФКтФГ тЮв *ЁЯУИ Puntuacion:* ${v.scoreText}
тФКтФГ тЮв *тЫУя╕П Link:* ${v.url}
тФКтФгтФЕ тФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБтФБ тФЕ тФБ
тФКтФГ тЮв *ЁЭЩ▒ЁЭЪв: ЁЭЩ╜ЁЭЪТЁЭЪРЁЭЪЫЁЭЪШЁЭЪЦЁЭЪКЁЭЪЧЁЭЪЭЁЭЪОЁЭЩ▒ЁЭЪШЁЭЪЭ-ЁЭЩ╝ЁЭЩ│*
тХ░тФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтФД█л╠╕ргнтФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтФД█л╠╕ргнтФД█л╠╕ргнргнргнргнргн┘ЬтФД█л╠╕ргнргнргнргнргн┘ЬтФД█лргнргнргнтШкя╕Оя╕Оя╕О╠╕тГШргкргкргк█м╠╕ргн┘ЬтЧМтГШ╓ЯсНЭ╓п█к█л█ля╕О█л█мЁРЗ╜тГкуАКтЩдуАЛтГШ╓ЯсНЭ╓п█к█л█л█л█мтГктЧМтГШргкргкргк█мргн┘ЬтШкя╕Оя╕Оя╕Оя╕О╠╕тФД█л╠╕ргнргнргнргнргн┘ЬтХп`
  ).join`\n\n`;
  m.reply(res, null, opt);
};
handler.help = ['playstore <aplicacion>'];
handler.tags = ['internet'];
handler.command = /^(playstore)$/i;
export default handler;
